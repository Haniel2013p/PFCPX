<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel da Polícia Federal</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f2f2f2; margin: 0; padding: 0; }
    header { background-color: #00224d; color: white; padding: 1rem; text-align: center; }
    main { padding: 1rem; }
    section { display: none; background: white; padding: 1rem; margin-top: 1rem; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .visible { display: block; }
    button { margin: 0.25rem; padding: 0.5rem 1rem; background: #00224d; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #003366; }
    input, select, textarea { margin: 0.25rem 0; padding: 0.5rem; width: 100%; box-sizing: border-box; }
    nav { margin-bottom: 1rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
    th { background-color: #e6e6e6; }
  </style>
</head>
<body>
  <header>
    <h1>Painel da Polícia Federal - gov.br/PF</h1>
  </header>
  <main>
    <section id="loginSection" class="visible">
      <h2>Login</h2>
      <input type="text" id="loginId" placeholder="ID" />
      <input type="password" id="loginSenha" placeholder="Senha" />
      <button onclick="login()">Entrar</button>
      <p>Não tem cadastro? <a href="#" onclick="mostrarCadastro()">Cadastre-se</a></p>
    </section>

    <section id="cadastroSection">
      <h2>Cadastro</h2>
      <input type="text" id="cadastroNome" placeholder="Nome" />
      <input type="text" id="cadastroId" placeholder="ID" />
      <input type="password" id="cadastroSenha" placeholder="Senha" />
      <select id="cadastroCargo">
        <option value="Agente">Agente</option>
      </select>
      <button onclick="cadastrar()">Cadastrar</button>
    </section>

    <section id="painelPrincipal">
      <nav>
        <button onclick="mostrarSecao('agentesSection')">Gerenciar Agentes</button>
        <button onclick="mostrarSecao('registrosSection')">Registros Criminais</button>
        <button onclick="mostrarSecao('denunciasSection')">Denúncias</button>
        <button onclick="mostrarSecao('advertenciasSection')">Advertências</button>
        <button onclick="mostrarSecao('comunicadosSection')">Comunicados</button>
        <button onclick="mostrarSecao('boSection')">Gerar B.O.</button>
        <button onclick="logout()">Sair</button>
      </nav>

      <section id="agentesSection">
        <h2>Gerenciar Agentes</h2>
        <div id="listaAgentes"></div>
      </section>

      <section id="registrosSection">
        <h2>Banco de Registros Criminais</h2>
        <input type="text" id="registroNome" placeholder="Nome" />
        <input type="text" id="registroRG" placeholder="RG" />
        <textarea id="registroHistorico" placeholder="Histórico"></textarea>
        <select id="registroStatus">
          <option>Em investigação</option>
          <option>Processo penal em andamento</option>
          <option>Fugitivo</option>
          <option>Em liberdade</option>
        </select>
        <select id="registroPreso">
          <option value="Sim">Foi preso?</option>
          <option value="Sim">Sim</option>
          <option value="Não">Não</option>
        </select>
        <button onclick="adicionarRegistroCriminal()">Adicionar</button>
        <input type="text" id="pesquisarRG" placeholder="Pesquisar por RG" />
        <button onclick="pesquisarRegistro()">Pesquisar</button>
        <div id="resultadoPesquisa"></div>
      </section>

      <section id="denunciasSection">
        <h2>Painel de Denúncias</h2>
        <input type="text" id="denunciado" placeholder="Nome do denunciado" />
        <input type="text" id="denunciante" placeholder="Seu nome (denunciante)" />
        <textarea id="descricaoDenuncia" placeholder="Descrição da denúncia"></textarea>
        <button onclick="enviarDenuncia()">Enviar Denúncia</button>
        <div id="listaDenuncias"></div>
      </section>

      <section id="advertenciasSection">
        <h2>Sistema de Advertências</h2>
        <input type="text" id="nomeAdvertido" placeholder="Nome do Agente" />
        <textarea id="motivoAdvertencia" placeholder="Motivo"></textarea>
        <button onclick="registrarAdvertencia()">Registrar Advertência</button>
        <div id="listaAdvertencias"></div>
      </section>

      <section id="comunicadosSection">
        <h2>Comunicados Oficiais</h2>
        <textarea id="novoComunicado" placeholder="Digite um novo comunicado..."></textarea>
        <button onclick="publicarComunicado()">Publicar</button>
        <div id="listaComunicados"></div>
      </section>

      <section id="boSection">
        <h2>Gerador de Boletins de Ocorrência</h2>
        <input type="text" id="boNome" placeholder="Nome do envolvido" />
        <textarea id="boDescricao" placeholder="Descrição da ocorrência"></textarea>
        <button onclick="gerarBO()">Gerar B.O.</button>
        <div id="listaBOs"></div>
      </section>
    </section>
  </main>


   <script>
let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
let usuarioLogado = null;

const hierarquia = [
  "Agente de 3 classe",
  "Agente de 2 classe",
  "Agente de 1 classe",
  "Escrivão",
  "Perito",
  "Delegado",
  "Delegado Regional",
  "Delegado Executivo",
  "Superintendente Regional",
  "Diretor",
  "Diretor Executivo",
  "Diretor Geral",
  "Dono da PF"
];

function mostrarCadastro() {
  document.getElementById("loginSection").classList.remove("visible");
  document.getElementById("cadastroSection").classList.add("visible");
}

function login() {
  const id = document.getElementById("loginId").value;
  const senha = document.getElementById("loginSenha").value;
  const usuario = usuarios.find(u => u.id === id && u.senha === senha);
  if (usuario) {
    usuarioLogado = usuario;
    mostrarPainel();
  } else {
    alert("ID ou senha inválidos.");
  }
}

function cadastrar() {
  const nome = document.getElementById("cadastroNome").value;
  const id = document.getElementById("cadastroId").value;
  const senha = document.getElementById("cadastroSenha").value;

  if (usuarios.some(u => u.id === id)) {
    alert("ID já cadastrado.");
    return;
  }

  const novoUsuario = {
    nome,
    id,
    senha,
    cargo: id === "74" ? "Dono da PF" : "Agente de 3 classe",
    status: "Em serviço"
  };

  usuarios.push(novoUsuario);
  localStorage.setItem("usuarios", JSON.stringify(usuarios));
  alert("Cadastro realizado. Faça login.");
  mostrarLogin();
}

function mostrarLogin() {
  document.getElementById("cadastroSection").classList.remove("visible");
  document.getElementById("loginSection").classList.add("visible");
}

function logout() {
  usuarioLogado = null;
  location.reload();
}

function mostrarPainel() {
  document.getElementById("loginSection").classList.remove("visible");
  document.getElementById("cadastroSection").classList.remove("visible");
  document.getElementById("painelPrincipal").classList.add("visible");
  if (usuarioLogado.cargo === "Dono da PF" || usuarioLogado.cargo.includes("Diretor")) {
    listarAgentes();
  }
}

function mostrarSecao(id) {
  document.querySelectorAll("section").forEach(sec => sec.classList.remove("visible"));
  document.getElementById("painelPrincipal").classList.add("visible");
  document.getElementById(id).classList.add("visible");
}

function listarAgentes() {
  const container = document.getElementById("listaAgentes");
  container.innerHTML = "";
  usuarios.forEach((u, index) => {
    const div = document.createElement("div");
    div.innerHTML = `
      <strong>${u.nome}</strong> - ${u.cargo} [${u.status}]<br/>
      ID: ${u.id}<br/>
      <button onclick="promover(${index})">Promover</button>
      <button onclick="rebaixar(${index})">Rebaixar</button>
      <button onclick="alternarStatus(${index})">Alternar Status</button>
      <button onclick="excluirUsuario(${index})">Excluir</button>
      <hr/>
    `;
    container.appendChild(div);
  });
}

function promover(index) {
  const atual = usuarios[index];
  const pos = hierarquia.indexOf(atual.cargo);
  if (pos < hierarquia.length - 1) {
    atual.cargo = hierarquia[pos + 1];
    salvarUsuarios();
    listarAgentes();
  }
}

function rebaixar(index) {
  const atual = usuarios[index];
  const pos = hierarquia.indexOf(atual.cargo);
  if (pos > 0) {
    atual.cargo = hierarquia[pos - 1];
    salvarUsuarios();
    listarAgentes();
  }
}

function alternarStatus(index) {
  usuarios[index].status = usuarios[index].status === "Em serviço" ? "Afastado" : "Em serviço";
  salvarUsuarios();
  listarAgentes();
}

function excluirUsuario(index) {
  if (confirm("Tem certeza que deseja excluir este agente?")) {
    usuarios.splice(index, 1);
    salvarUsuarios();
    listarAgentes();
  }
}

function salvarUsuarios() {
  localStorage.setItem("usuarios", JSON.stringify(usuarios));
}

// REGISTROS CRIMINAIS
let registros = JSON.parse(localStorage.getItem("registros")) || [];

function adicionarRegistroCriminal() {
  const nome = document.getElementById("registroNome").value;
  const rg = document.getElementById("registroRG").value;
  const historico = document.getElementById("registroHistorico").value;
  const status = document.getElementById("registroStatus").value;
  const foiPreso = document.getElementById("registroPreso").value;
  let totalPrisao = 0;
  if (status === "Em liberdade" && foiPreso === "Sim") totalPrisao = 1;

  registros.push({ nome, rg, historico, status, foiPreso, totalPrisao });
  localStorage.setItem("registros", JSON.stringify(registros));
  alert("Registro adicionado.");
}

function pesquisarRegistro() {
  const rgBusca = document.getElementById("pesquisarRG").value;
  const resultado = registros.filter(r => r.rg === rgBusca);
  const container = document.getElementById("resultadoPesquisa");
  container.innerHTML = "";

  if (resultado.length === 0) {
    container.innerHTML = "<p>Nenhum registro encontrado.</p>";
    return;
  }

  resultado.forEach(r => {
    container.innerHTML += `
      <p><strong>${r.nome}</strong><br/>
      RG: ${r.rg}<br/>
      Histórico: ${r.historico}<br/>
      Status: ${r.status}<br/>
      Preso: ${r.foiPreso}<br/>
      Total de Prisões: ${r.totalPrisao}</p>
      <hr/>
    `;
  });
}

// DENÚNCIAS
let denuncias = JSON.parse(localStorage.getItem("denuncias")) || [];

function enviarDenuncia() {
  const denunciado = document.getElementById("denunciado").value;
  const denunciante = document.getElementById("denunciante").value;
  const descricao = document.getElementById("descricaoDenuncia").value;

  denuncias.push({ denunciado, denunciante, descricao });
  localStorage.setItem("denuncias", JSON.stringify(denuncias));
  listarDenuncias();
}

function listarDenuncias() {
  const container = document.getElementById("listaDenuncias");
  container.innerHTML = "";
  denuncias.forEach(d => {
    container.innerHTML += `
      <p><strong>Denunciado:</strong> ${d.denunciado}<br/>
      <strong>Por:</strong> ${d.denunciante}<br/>
      ${d.descricao}</p><hr/>
    `;
  });
}

// ADVERTÊNCIAS
let advertencias = JSON.parse(localStorage.getItem("advertencias")) || [];

function registrarAdvertencia() {
  const nome = document.getElementById("nomeAdvertido").value;
  const motivo = document.getElementById("motivoAdvertencia").value;
  advertencias.push({ nome, motivo });
  localStorage.setItem("advertencias", JSON.stringify(advertencias));
  listarAdvertencias();
}

function listarAdvertencias() {
  const container = document.getElementById("listaAdvertencias");
  container.innerHTML = "";
  advertencias.forEach(a => {
    container.innerHTML += `<p><strong>${a.nome}:</strong> ${a.motivo}</p><hr/>`;
  });
}

// COMUNICADOS
let comunicados = JSON.parse(localStorage.getItem("comunicados")) || [];

function publicarComunicado() {
  const texto = document.getElementById("novoComunicado").value;
  comunicados.push(texto);
  localStorage.setItem("comunicados", JSON.stringify(comunicados));
  listarComunicados();
}

function listarComunicados() {
  const container = document.getElementById("listaComunicados");
  container.innerHTML = "";
  comunicados.forEach(c => {
    container.innerHTML += `<p>${c}</p><hr/>`;
  });
}

// B.O.
let boletins = JSON.parse(localStorage.getItem("boletins")) || [];

function gerarBO() {
  const nome = document.getElementById("boNome").value;
  const descricao = document.getElementById("boDescricao").value;
  boletins.push({ nome, descricao });
  localStorage.setItem("boletins", JSON.stringify(boletins));
  listarBOs();
}

function listarBOs() {
  const container = document.getElementById("listaBOs");
  container.innerHTML = "";
  boletins.forEach(b => {
    container.innerHTML += `<p><strong>${b.nome}:</strong> ${b.descricao}</p><hr/>`;
  });
}

window.onload = () => {
  listarDenuncias();
  listarAdvertencias();
  listarComunicados();
  listarBOs();
};
</script>


</body>
</html>
